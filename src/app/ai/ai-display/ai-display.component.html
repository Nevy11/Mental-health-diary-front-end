<div class="container">
  <div
    class="chat-container"
    fxLayout="column"
    fxLayoutAlign="space-between stretch"
  >
    <mat-card class="chat-window" #chatWindow>
      <mat-card-header>
        <mat-card-title>Live Session</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <div class="chat-messages" *ngFor="let message of messages">
          <div
            class="message"
            [ngClass]="{
              'user-message': message.user !== 'Therapist',
              'bot-message': message.user === 'Therapist'
            }"
          >
            <span
              ><strong>{{ message.user }}:</strong> {{ message.text }}</span
            >
          </div>
        </div>
      </mat-card-content>
    </mat-card>

    <div class="chat-input-area" fxLayout="row">
      <div class="bottom-form">
        <div class="my-form-field">
          <div style="float: left; margin-right: 3rem; margin-top: 1rem">
            <mat-icon (click)="toDashboard()">arrow_back</mat-icon>
          </div>
          <mat-form-field class="chat-input" fxFlex="80">
            <mat-label>Enter some input</mat-label>

            <input
              class="input-area"
              matInput
              placeholder="Type your message..."
              [(ngModel)]="newMessage"
              (keyup.enter)="sendMessage()"
            />
          </mat-form-field>
          <div style="float: right; margin-left: 3rem; margin-top: 1rem">
            <mat-icon (click)="startRecording()"> mic </mat-icon>
          </div>
        </div>
      </div>

      <div class="my-button-field">
        <div class="button-container">
          <button mat-stroked-button color="primary" (click)="clear()">
            clear
          </button>
          <button mat-stroked-button color="primary" (click)="sendMessage()">
            Send
          </button>
        </div>
      </div>
    </div>
  </div>
  <!-- <div>
    <mat-icon (click)="toDashboard()">arrow_back</mat-icon>
  </div> -->
</div>
